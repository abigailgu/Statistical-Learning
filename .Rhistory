countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ='usa', color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text")
fig <- fig %>% add_segments(
data = group_by(dep_delay_loc, per_ch),
x = 40.6925, xend = ~lon,
y = -74.16867, yend = ~lat,  size = I(1), hoverinfo = "none"
)
fig <- fig %>% layout(
title = 'Feb. 2011 American Airline flight paths<br>(Hover for airport names)',
geo = geo, showlegend = FALSE, height=800
)
fig
geo <- list(
scope = "north america",
projection = list(type = 'azimuthal equal area'),
showland = TRUE,
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="north america", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text")
fig <- fig %>% add_segments(
data = group_by(dep_delay_loc, per_ch),
x = 40.6925, xend = ~lon,
y = -74.16867, yend = ~lat,  size = I(1), hoverinfo = "none"
)
fig <- fig %>% layout(
title = 'Feb. 2011 American Airline flight paths<br>(Hover for airport names)',
geo = geo, showlegend = FALSE, height=800
)
fig
geo <- list(
scope = "north america",
projection = list(type = 'azimuthal equal area'),
showland = TRUE,
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text")
fig <- fig %>% add_segments(
data = group_by(dep_delay_loc, per_ch),
x = 40.6925, xend = ~lon,
y = -74.16867, yend = ~lat,  size = I(1), hoverinfo = "none"
)
fig <- fig %>% layout(
title = 'Feb. 2011 American Airline flight paths<br>(Hover for airport names)',
geo = geo, showlegend = FALSE, height=800
)
fig
geo <- list(
scope = "north america",
projection = list(type = "equirectangular"),
showland = TRUE,
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text")
fig <- fig %>% add_segments(
data = group_by(dep_delay_loc, per_ch),
x = 40.6925, xend = ~lon,
y = -74.16867, yend = ~lat,  size = I(1), hoverinfo = "none"
)
fig <- fig %>% layout(
title = 'Feb. 2011 American Airline flight paths<br>(Hover for airport names)',
geo = geo, showlegend = FALSE, height=800
)
fig
geo <- list(
scope = "north america",
projection = list(type = "albers usa"),
showland = TRUE,
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text")
fig <- fig %>% add_segments(
data = group_by(dep_delay_loc, per_ch),
x = 40.6925, xend = ~lon,
y = -74.16867, yend = ~lat,  size = I(1), hoverinfo = "none"
)
fig <- fig %>% layout(
title = 'Feb. 2011 American Airline flight paths<br>(Hover for airport names)',
geo = geo, showlegend = FALSE, height=800
)
fig
geo <- list(
scope = "north america",
projection = list(type = "albers usa"),
showland = TRUE,
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text")
fig <- fig %>% add_segments(
data = group_by(dep_delay_loc, per_ch),
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1), hoverinfo = "none"
)
fig <- fig %>% layout(
title = 'Feb. 2011 American Airline flight paths<br>(Hover for airport names)',
geo = geo, showlegend = FALSE, height=800
)
fig
fig <- fig %>% add_segments(
data = group_by(dep_delay_loc, per_ch),
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1), hoverinfo = "text"
)
geo <- list(
scope = "north america",
projection = list(type = "albers usa"),
showland = TRUE,
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text")
fig <- fig %>% add_segments(
data = group_by(dep_delay_loc, per_ch),
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1), hoverinfo = "text"
)
fig <- fig %>% layout(
title = 'Feb. 2011 American Airline flight paths<br>(Hover for airport names)',
geo = geo, showlegend = FALSE, height=800
)
fig
geo <- list(
scope = "north america",
projection = list(type = "albers usa"),
showland = TRUE,
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text")
fig <- fig %>% add_segments(
data = group_by(dep_delay_loc, per_ch),
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1), hoverinfo = "text"
)
fig <- fig %>% layout(
title = '2013 NYC EWR airport Airline flight paths<br>(Hover for airport names)',
geo = geo, showlegend = FALSE, height=800
)
fig
geo <- list(
scope = "north america",
projection = list(type = "albers usa"),
showland = TRUE, legendgroup = ~per_ch
landcolor = toRGB("gray95"),
geo <- list(
scope = "north america",
projection = list(type = "albers usa"),
showland = TRUE, legendgroup = ~per_ch,
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text")
fig <- fig %>% add_segments(
data = group_by(dep_delay_loc, per_ch),
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1), hoverinfo = "text"
)
fig <- fig %>% layout(
title = '% of Flight Departures Delayed > 15 Min<br>(Hover for airport names)',
geo = geo, showlegend = FALSE, height=800
)
fig
geo <- list(
scope = "north america",
projection = list(type = "albers usa"),
showland = TRUE,
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text")
fig <- fig %>% add_segments(
data = group_by(dep_delay_loc, per_ch),
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1), hoverinfo = "text")
fig <- fig %>% layout(
title = '% of Flight Departures Delayed > 15 Min<br>(Hover for airport names)',
geo = geo, height=800)
fig
geo <- list(
scope = "north america",
projection = list(type = "albers usa"),
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text")
fig <- fig %>% add_segments(
data = group_by(dep_delay_loc, per_ch),
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1), hoverinfo = "text")
fig <- fig %>% layout(
title = '% of Flight Departures Delayed > 15 Min<br>(Hover for airport names)',
geo = geo, height=800)
fig
geo <- list(
scope = "north america",
projection = list(type = "albers usa"),
showland = TRUE,
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text")
fig <- fig %>% add_segments(
data = group_by(dep_delay_loc, per_ch),
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1), hoverinfo = "text")
fig <- fig %>% layout(
title = '% of Flight Departures Delayed > 15 Min<br>(Hover for airport names)',
geo = geo, height=800)
fig
geo <- list(
scope = "north america",
projection = list(type = "albers usa"),
showland = TRUE,
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world")
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text")
fig <- fig %>% add_segments(
data = group_by(dep_delay_loc, per_ch),
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1), hoverinfo = "text")
fig <- fig %>% layout(
title = '% of Flight Departures Delayed > 15 Min<br>(Hover for airport names)',
geo = geo, height=800)
fig
geo <- list(
scope = "north america",
projection = list(type = "albers usa"),
showland = TRUE,
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text")
fig <- fig %>% add_segments(
data = group_by(dep_delay_loc),
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1), hoverinfo = "text")
fig <- fig %>% layout(
title = '% of Flight Departures Delayed > 15 Min<br>(Hover for airport names)',
geo = geo, height=800)
fig
geo <- list(
scope = "north america",
projection = list(type = "albers usa"),
showland = TRUE,
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text")
fig <- fig %>% add_segments(
data = dep_delay_loc,
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1), hoverinfo = "text")
fig <- fig %>% layout(
title = '% of Flight Departures Delayed > 15 Min<br>(Hover for airport names)',
geo = geo, height=800)
fig
geo <- list(
scope = "north america",
projection = list(type = "albers usa"),
showland = TRUE,
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text")
fig <- fig %>% add_segments(
data = dep_delay_loc,
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1), hoverinfo = "text", showlegend = FALSE)
fig <- fig %>% layout(
title = '% of Flight Departures Delayed > 15 Min<br>(Hover for airport names)',
geo = geo, height=800)
fig
dep_delay_loc <- dep_delay %>% left_join(airports, by = "faa") %>% drop_na()
# removed : STT,SJU, BQN need to be explain why they can be found.
dep_delay_loc <- dep_delay_loc %>% mutate(per_ch = NA)
dep_delay_loc$per_ch[dep_delay_loc$per <= 0.10 ] <- "<= 10%"
dep_delay_loc$per_ch[dep_delay_loc$per <= 0.15 & dep_delay_loc$per > 0.10 ] <- "10% - 15%"
dep_delay_loc$per_ch[dep_delay_loc$per <= 0.20 & dep_delay_loc$per > 0.15 ] <- "15% - 20%"
dep_delay_loc$per_ch[dep_delay_loc$per <= 0.25 & dep_delay_loc$per > 0.20 ] <- "20% - 25%"
dep_delay_loc$per_ch[dep_delay_loc$per >= 0.25] <- "25% <="
geo <- list(
scope = "north america",
projection = list(type = "albers usa"),
showland = TRUE,
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text")
fig <- fig %>% add_segments(
data = dep_delay_loc,
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1), hoverinfo = "text", showlegend = FALSE)
fig <- fig %>% layout(
title = '% of Flight Departures Delayed > 15 Min<br>(Hover for airport names)',
geo = geo, height=800)
fig
dep_delay_loc <- dep_delay %>% left_join(airports, by = "faa") %>% drop_na()
# removed : STT,SJU, BQN need to be explain why they can be found.
dep_delay_loc <- dep_delay_loc %>% mutate(per_ch = NA)
dep_delay_loc$per_ch[dep_delay_loc$per <= 0.10 ] <- "<= 10%"
dep_delay_loc$per_ch[dep_delay_loc$per <= 0.15 & dep_delay_loc$per > 0.10 ] <- "10% - 15%"
dep_delay_loc$per_ch[dep_delay_loc$per <= 0.20 & dep_delay_loc$per > 0.15 ] <- "15% - 20%"
dep_delay_loc$per_ch[dep_delay_loc$per <= 0.25 & dep_delay_loc$per > 0.20 ] <- "20% - 25%"
dep_delay_loc$per_ch[dep_delay_loc$per >= 0.25] <- "25% <="
geo <- list(
scope = "north america",
projection = list(type = "albers usa"),
showland = TRUE,
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text")
fig <- fig %>% add_segments(
data = dep_delay_loc,
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1), hoverinfo = "text", showlegend = FALSE)
fig <- fig %>% layout(
title = '% of Flight Departures Delayed > 15 Min<br>(Hover for airport names)',
geo = geo, height=800)
fig
geo <- list(
scope = "north america",
projection = list(type = "albers usa"),
showland = FALSE,
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text")
fig <- fig %>% add_segments(
data = dep_delay_loc,
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1), hoverinfo = "text")
fig <- fig %>% layout(
title = '% of Flight Departures Delayed > 15 Min<br>(Hover for airport names)',
geo = geo, height=800)
fig
geo <- list(
scope = "north america",
projection = list(type = "albers usa"),
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text",  showland = FALSE)
fig <- fig %>% add_segments(
data = dep_delay_loc,
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1), hoverinfo = "text")
fig <- fig %>% layout(
title = '% of Flight Departures Delayed > 15 Min<br>(Hover for airport names)',
geo = geo, height=800)
fig
fig <- fig %>% add_segments(
data = dep_delay_loc,
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1), hoverinfo = "text", showland = FALSE,)
geo <- list(
scope = "north america",
projection = list(type = "albers usa"),
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text")
fig <- fig %>% add_segments(
data = dep_delay_loc,
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1), hoverinfo = "text", showland = FALSE,)
geo <- list(
scope = "north america",
projection = list(type = "albers usa"),
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text")
fig <- fig %>% add_segments(
data = dep_delay_loc,
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1), hoverinfo = "text", showland = FALSE,)
geo <- list(
scope = "north america",
projection = list(type = "albers usa"),
landcolor = toRGB("gray95"),
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text")
fig <- fig %>% add_segments(
data = dep_delay_loc,
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1), hoverinfo = "text", showland = FALSE)
fig <- fig %>% layout(
title = '% of Flight Departures Delayed > 15 Min<br>(Hover for airport names)',
geo = geo, height=800)
fig
geo <- list(
scope = "north america",
projection = list(type = "albers usa"),
landcolor = toRGB("gray95"), showland = FALSE,
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text")
fig <- fig %>% add_segments(
data = dep_delay_loc,
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1), hoverinfo = "text")
fig <- fig %>% layout(
title = '% of Flight Departures Delayed > 15 Min<br>(Hover for airport names)',
geo = geo, height=800)
fig
geo <- list(
scope = "north america",
projection = list(type = "albers usa"),
landcolor = toRGB("gray95"), showland = FALSE,
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text")
fig <- fig %>% add_segments(
data = dep_delay_loc,
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1), hoverinfo = "text", showland = FALSE)
fig <- fig %>% layout(
title = '% of Flight Departures Delayed > 15 Min<br>(Hover for airport names)',
geo = geo, height=800)
fig
geo <- list(
scope = "north america",
projection = list(type = "albers usa"),
landcolor = toRGB("gray95"), showland = FALSE,
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text", showland = FALSE)
fig <- fig %>% add_segments(
data = dep_delay_loc,
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1), hoverinfo = "text", showland = FALSE)
fig <- fig %>% layout(
title = '% of Flight Departures Delayed > 15 Min<br>(Hover for airport names)',
geo = geo, height=800)
fig
geo <- list(
scope = "north america",
projection = list(type = "albers usa"),
landcolor = toRGB("gray95"), showland = FALSE,
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="world", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat, text = ~name,
hoverinfo = "text", showland = FALSE)
fig <- fig %>% add_segments(
data = dep_delay_loc,
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1), hoverinfo = "text", showland = FALSE)
fig <- fig %>% layout(
title = '% of Flight Departures Delayed > 15 Min<br>(Hover for airport names)',
geo = geo, height=800, showland = FALSE)
fig
