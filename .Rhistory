data = dep_delay_loc,
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1),text = ~name, hoverinfo = "text" )
fig <- fig %>% layout(
title = list(text= '<b>% of Flight Departures Delayed > 15 Min</b><br>Airport = EWR    Year = 2013'),
geo = geo, height=500)
fig <- fig %>% layout(legend = list(x = 0.1, y = -0.4))  %>%
layout(legend=list(title=list(text='<b> Percent range </b>'))) %>%
add_trace(data = df ,type = "scattergeo", locations = ~state ,text = ~code , mode = "text", showlegend = FALSE)
fig
geo <- list(
scope = "usa",
projection = list(type = "albers usa"),
landcolor = toRGB("gray95"), showlegend = FALSE,
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="USA-states", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat,
showlegend = FALSE)
fig <- fig %>% add_segments(
data = dep_delay_loc,
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1),text = ~name, hoverinfo = "text" )
fig <- fig %>% layout(
title = list(text= '<b>% of Flight Departures Delayed > 15 Min</b><br>Airport = EWR    Year = 2013'),
geo = geo, height=500)
fig <- fig %>% layout(legend = list(x = 0.1, y = -0.4))  %>%
layout(legend=list(title=list(text='<b> Percent range </b>'))) %>%
add_text(data = df ,type = "scattergeo", locations = ~state ,text = ~code , mode = "text", showlegend = FALSE)
dep_delay_loc <- dep_delay %>% left_join(airports, by = "faa") %>% drop_na()
# removed : STT,SJU, BQN need to be explain why they can be found.
dep_delay_loc <- dep_delay_loc %>% mutate(per_ch = NA)
dep_delay_loc$per_ch[dep_delay_loc$per <= 0.10 ] <- "<= 10%"
dep_delay_loc$per_ch[dep_delay_loc$per <= 0.15 & dep_delay_loc$per > 0.10 ] <- "10% - 15%"
dep_delay_loc$per_ch[dep_delay_loc$per <= 0.20 & dep_delay_loc$per > 0.15 ] <- "15% - 20%"
dep_delay_loc$per_ch[dep_delay_loc$per <= 0.25 & dep_delay_loc$per > 0.20 ] <- "20% - 25%"
dep_delay_loc$per_ch[dep_delay_loc$per >= 0.25] <- "25% <="
geo <- list(
scope = "usa",
projection = list(type = "albers usa"),
landcolor = toRGB("gray95"), showlegend = FALSE,
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="USA-states", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat,
showlegend = FALSE)
fig <- fig %>% add_segments(
data = dep_delay_loc,
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1),text = ~name, hoverinfo = "text" )
fig <- fig %>% layout(
title = list(text= '<b>% of Flight Departures Delayed > 15 Min</b><br>Airport = EWR    Year = 2013'),
geo = geo, height=500)
fig <- fig %>% layout(legend = list(x = 0.1, y = -0.4))  %>%
layout(legend=list(title=list(text='<b> Percent range </b>'))) %>%
add_trace(data = df ,type = "scattergeo", locations = ~state ,text = ~code , mode = "text", showlegend = FALSE)
fig
geo <- list(
scope = "usa",
projection = list(type = "albers usa"),
landcolor = toRGB("gray95"), showlegend = FALSE,
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="ISO-3", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat,
showlegend = FALSE)
fig <- fig %>% add_segments(
data = dep_delay_loc,
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1),text = ~name, hoverinfo = "text" )
fig <- fig %>% layout(
title = list(text= '<b>% of Flight Departures Delayed > 15 Min</b><br>Airport = EWR    Year = 2013'),
geo = geo, height=500)
fig <- fig %>% layout(legend = list(x = 0.1, y = -0.4))  %>%
layout(legend=list(title=list(text='<b> Percent range </b>'))) %>%
add_trace(data = df ,type = "scattergeo", locations = ~state ,text = ~ code , mode = "text", showlegend = FALSE)
fig
geo <- list(
scope = "usa",
projection = list(type = "albers usa"),
landcolor = toRGB("gray95"), showlegend = FALSE,
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="ISO-3", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat,
showlegend = FALSE)
fig <- fig %>% add_segments(
data = dep_delay_loc,
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1),text = ~name, hoverinfo = "text" )
fig <- fig %>% layout(
title = list(text= '<b>% of Flight Departures Delayed > 15 Min</b><br>Airport = EWR    Year = 2013'),
geo = geo, height=500)
fig <- fig %>% layout(legend = list(x = 0.1, y = -0.4))  %>%
layout(legend=list(title=list(text='<b> Percent range </b>'))) %>%
#add_trace(data = df ,type = "scattergeo", locations = ~state ,text = ~ code , mode = "text", showlegend = FALSE)
fig
geo <- list(
scope = "usa",
projection = list(type = "albers usa"),
landcolor = toRGB("gray95"), showlegend = FALSE,
countrycolor = toRGB("gray80"))
fig <- plot_geo(locationmode ="ISO-3", color = ~per_ch)
fig <- fig %>% add_markers(
data = dep_delay_loc, x = ~lon, y = ~lat,
showlegend = FALSE)
fig <- fig %>% add_segments(
data = dep_delay_loc,
x =-74.16867, xend = ~lon,
y = 40.6925, yend = ~lat,  size = I(1),text = ~name, hoverinfo = "text" )
fig <- fig %>% layout(
title = list(text= '<b>% of Flight Departures Delayed > 15 Min</b><br>Airport = EWR    Year = 2013'),
geo = geo, height=500)
fig <- fig %>% layout(legend = list(x = 0.1, y = -0.4))  %>%
layout(legend=list(title=list(text='<b> Percent range </b>'))) %>%
add_trace(data = dep_delay_loc ,type = "scattergeo",text = ~ faa , mode = "text", showlegend = FALSE)
fig
# tools and data upload
library(ggplot2)
library(dplyr)
library(scales) # needed for formatting y-axis labels to non-scientific type
library(tidyr)
library(tidyverse)
library(ggthemes)
library(datasets)
library(nycflights13)
library(kableExtra) #table styling
library(e1071) # kurtosis and skeeness
library(MASS) # reg modeling
library(corrplot)
library(caTools)
library(plotly)
library(lubridate)
library(hexbin)
options(scipen = 999)
flights <- as.data.frame(nycflights13::flights)
wheather <- nycflights13::weather
airports <- nycflights13::airports
planes <- nycflights13::planes
flights_delayed <- filter(flights, dep_delay >0 ) #We want to see only the delayed flights
flights_delayed1 <- flights_delayed %>%  group_by(time_hour) %>% summarise(Avg_dep_delay = mean(dep_delay))
Wheather_cond <- left_join(flights_delayed1, wheather) #combine the two relevant data frames
visib_df <- Wheather_cond %>% group_by(visib) %>% summarise(Avg_dep_delay = mean(Avg_dep_delay))
ggplot(data = visib_df, mapping = aes(x = visib, y = Avg_dep_delay)) + geom_point(color = "violetred4") +
geom_smooth(method = "lm", fill = "violet", color = "violetred4") +
labs(x = "visibility", y="Average Departure Delay Time (minutes)",
title = "Average Departure Delay vs. Quality of visibility")
flights_delayed <- filter(flights, dep_delay >0 ) #We want to see only the delayed flights
flights_delayed
flights_delayed1 <- flights_delayed %>%  group_by(time_hour) %>% summarise(Avg_dep_delay = mean(dep_delay))
flights_delayed1
Wheather_cond <- left_join(flights_delayed1, wheather) #combine the two relevant data frames
visib_df <- Wheather_cond %>% group_by(visib) %>% summarise(Avg_dep_delay = mean(Avg_dep_delay))
visib_df
ggplot(data = visib_df, mapping = aes(x = visib, y = Avg_dep_delay)) + geom_point(color = "violetred4") +
geom_smooth(method = "lm", fill = "violet", color = "violetred4") +
labs(x = "visibility", y="Average Departure Delay Time (minutes)",
title = "Average Departure Delay vs. Quality of visibility")
by_month <- flights_delayed %>% group_by(month) %>% summarise(n = n_distinct(dep_delay), avg_delay = mean(dep_delay))
#by_month$month <- as.character.Date(by_month$month)
n_avg <- mean(by_month$n)
by_month
boxplot(by_month)
boxplot(by_month$avg_delay)
boxplot(by_month$month)
ggplot(by_month) + geom_boxplot(mapping = aes(x = by_month$month, y = by_month$avg_delay))
ggplot(by_month) + geom_bar(mapping = aes(x = by_month$month, y = by_month$avg_delay))
by_month
ggplot(by_month) + geom_line(mapping = aes(x = by_month$month, y = by_month$avg_delay))
by_month$month <- as.character.Date(by_month$month)
ggplot(by_month) + geom_line(mapping = aes(x = by_month$month, y = by_month$avg_delay))
ggplot(by_month) + geom_line(mapping = aes(x = month, y = avg_delay))
by_month <- flights_delayed %>% group_by(month) %>% summarise(n = n_distinct(dep_delay), avg_delay = mean(dep_delay))
ggplot(by_month) + geom_line(mapping = aes(x = month, y = avg_delay))
options(scipen = 999)
flights <- as.data.frame(nycflights13::flights)
wheather <- nycflights13::weather
airports <- nycflights13::airports
planes <- nycflights13::planes
View(flights)
View(planes)
unique(planes$type)
xx <- left_join(flights, planes)
View(xx)
xx <- left_join(flights, planes, by = tailnum)
yy <- left_join(flights, planes, by = tailnum)
yy <- left_join(flights, planes, by = "tailnum")
View(yy)
merges_planes <- left_join(flights, planes, by = "tailnum")
merges_planes
merges_planes <- left_join(flights, planes, by = "tailnum")
flights_delayed_plane <- merges_planes %>% filter(dep_delay >0) group_by(tailnum) %>% summarise(Avg_dep_delay = mean(dep_delay))
flights_delayed_plane <- merges_planes %>% filter(dep_delay >0) %>% group_by(tailnum) %>% summarise(Avg_dep_delay = mean(dep_delay))
flights_delayed_plane
flights_delayed_plane <- merges_planes %>% filter(dep_delay >0) %>% group_by(tailnum) %>% summarise(Avg_dep_delay = mean(dep_delay), Type = type)
flights_delayed_plane <- merges_planes %>% filter(dep_delay >0) %>% group_by(tailnum) %>% summarise(Avg_dep_delay = mean(dep_delay), Type = as.character(type))
flights_delayed_plane <- merges_planes %>% filter(dep_delay >0) %>% group_by(tailnum) %>% summarise(Avg_dep_delay = mean(dep_delay), Type = as.character(type))
flights_delayed_plane <- merges_planes %>% filter(dep_delay >0) %>% group_by(tailnum) %>% summarise(Avg_dep_delay = mean(dep_delay))
flights_delayed_plane
flights_delayed_plane <- merges_planes %>% filter(dep_delay >0) %>% group_by(tailnum, type) %>% summarise(Avg_dep_delay = mean(dep_delay))
flights_delayed_plane
flights_delayed_plane <- merges_planes %>% filter(dep_delay >0) %>% group_by(tailnum, type) %>% summarise(Avg_dep_delay = mean(dep_delay), n = count(dep_delay))
flights_delayed_plane <- merges_planes %>% filter(dep_delay >0) %>% group_by(tailnum, type) %>% summarise(Avg_dep_delay = mean(dep_delay), n = count(dep_delay))
flights_delayed_plane <- merges_planes %>% filter(dep_delay >0) %>% group_by(tailnum, type) %>% summarise(Avg_dep_delay = mean(dep_delay), n = count(tailnum))
merges_planes
flights_delayed_plane <- merges_planes %>% filter(dep_delay >0) %>% group_by(tailnum, type) %>% summarise(Avg_dep_delay = mean(dep_delay), n = count(dep_delay))
flights_delayed_plane <- merges_planes %>% filter(dep_delay >0) %>% group_by(tailnum, type) %>% summarise(Avg_dep_delay = mean(dep_delay), n = n_distinct(dep_delay))
flights_delayed_plane
flights_delayed_plane <- filter(flights_delayed_plane, n >30)
flights_delayed_plane
View(flights_delayed_plane)
View(flights)
View(merges_planes)
unique(merges_planes$manufacturer)
unique(planes$engine)
unique(planes$type)
unique(planes$engines)
unique(planes$seats)
unique(planes$speed)
flights_delayed_plane <- merges_planes %>% filter(dep_delay >0) %>% group_by(speed, type) %>% summarise(Avg_dep_delay = mean(dep_delay), n = n_distinct(dep_delay))
flights_delayed_plane
flights_delayed_plane <- merges_planes %>% filter(dep_delay >0) %>% group_by(speed,) %>% summarise(Avg_dep_delay = mean(dep_delay), n = n_distinct(dep_delay))
flights_delayed_plane <- merges_planes %>% filter(dep_delay >0) %>% group_by(speed) %>% summarise(Avg_dep_delay = mean(dep_delay), n = n_distinct(dep_delay))
flights_delayed_plane
planes
flights_delayed_plane <- merges_planes %>% filter(dep_delay >0) %>% group_by(type) %>% summarise(Avg_dep_delay = mean(dep_delay), n = n_distinct(dep_delay))
flights_delayed_plane
planes
flights_delayed_plane <- merges_planes %>% filter(dep_delay >0) %>% group_by(manufacturer) %>% summarise(Avg_dep_delay = mean(dep_delay), n = n_distinct(dep_delay))
flights_delayed_plane
planes
flights_delayed_plane <- merges_planes %>% filter(dep_delay >0) %>% group_by(model) %>% summarise(Avg_dep_delay = mean(dep_delay), n = n_distinct(dep_delay))
flights_delayed_plane
flights_delayed_plane <- filter(flights_delayed_plane, n >30)
flights_delayed_plane
planes
flights_delayed_plane <- merges_planes %>% filter(dep_delay >0) %>% group_by(engines) %>% summarise(Avg_dep_delay = mean(dep_delay), n = n_distinct(dep_delay))
flights_delayed_plane
planes
flights_delayed_plane <- merges_planes %>% filter(dep_delay >0) %>% group_by(seats) %>% summarise(Avg_dep_delay = mean(dep_delay), n = n_distinct(dep_delay))
flights_delayed_plane
planes
flights_delayed_plane <- merges_planes %>% filter(dep_delay >0) %>% group_by(engine) %>% summarise(Avg_dep_delay = mean(dep_delay), n = n_distinct(dep_delay))
flights_delayed_plane <- filter(flights_delayed_plane, n >30)
flights_delayed_plane
flights_delayed_plane <- merges_planes %>% filter(dep_delay >0) %>% group_by(engine) %>% summarise(Avg_dep_delay = mean(dep_delay), n = n_distinct(dep_delay))
flights_delayed_plane
planes
flights_delayed_plane <- merges_planes %>% filter(dep_delay >0) %>% group_by(manufacturer) %>% summarise(Avg_dep_delay = mean(dep_delay), n = n_distinct(dep_delay))
flights_delayed_plane
flights_delayed_plane <- filter(flights_delayed_plane, n >30)
flights_delayed_plane
ggplot(data = flights_delayed_plane) +
geom_boxplot(mapping = aes(x = reorder(manufacturer, Avg_dep_delay, FUN = median), y = Avg_dep_delay)) +
coord_flip()
ggplot(data = merges_planes) +
geom_boxplot(mapping = aes(x = reorder(manufacturer, dep_delay, FUN = median), y = dep_delay)) +
coord_flip()
flights_delayed_plane
x <- flights_delayed_plane$manufacturer
merges_planes <- filter(merges_planes,manufacturer %in% x )
merges_planes
ggplot(data = merges_planes) +
geom_boxplot(mapping = aes(x = reorder(manufacturer, dep_delay, FUN = median), y = dep_delay)) +
coord_flip()
flights_delayed_plane <- filter(flights_delayed_plane, n >30, is.na = T)
flights_delayed_plane <- filter(flights_delayed_plane, n >30, is.na = F)
flights_delayed_plane <- filter(flights_delayed_plane, n >30)
x <- is.na(x)
x
x <- flights_delayed_plane$manufacturer
is.na(x)
x
x <- na.omit(x)
x
x <- flights_delayed_plane$manufacturer
x
x <- na.omit(x)
x
x <- flights_delayed_plane$manufacturer
x<-x[!is.na(x)]
x
merges_planes <- filter(merges_planes,manufacturer %in% x )
ggplot(data = merges_planes) +
geom_boxplot(mapping = aes(x = reorder(manufacturer, dep_delay, FUN = median), y = dep_delay)) +
coord_flip()
ggplot(data = merges_planes) +
geom_boxplot(mapping = aes(x = reorder(manufacturer, dep_delay), y = dep_delay)) +coord_flip()
ggplot(data = merges_planes) +
geom_boxplot(mapping = aes(x = manufacturer, y = dep_delay)) +coord_flip()
flights_delayed_plane
merges_planes
planes
merges_planes <- left_join(flights_delayed, planes, by = "tailnum")
flights_delayed <- filter(flights, dep_delay >0 ) #We want to see only the delayed flights
merges_planes <- left_join(flights_delayed, planes, by = "tailnum")
merges_planes
flights_delayed_plane <- merges_planes %>% group_by(year.y) %>% summarise(Avg_dep_delay = mean(dep_delay), n = n_distinct(dep_delay))
flights_delayed_plane
flights_delayed_plane <- filter(flights_delayed_plane, n >30)
x <- flights_delayed_plane$manufacturer
x<-x[!is.na(x)]
flights_delayed_plane<-flights_delayed_plane[!is.na(flights_delayed_plane)]
flights_delayed_plane <- filter(flights_delayed_plane, n >30)
flights_delayed_plane<-flights_delayed_plane[!is.na(flights_delayed_plane)]
flights_delayed_plane <- filter(flights_delayed_plane, n >30)
flights_delayed_plane
flights_delayed_plane<-flights_delayed_plane[!is.na(flights_delayed_plane)]
ggplot(data = merges_planes) +
geom_boxplot(mapping = aes(x = manufacturer, y = dep_delay)) +coord_flip()
ggplot(data = merges_planes) +
geom_boxplot(mapping = aes(x = year.y, y = dep_delay)) +coord_flip()
merges_planes$year.y <- as.character(merges_planes$year.y)
ggplot(data = merges_planes) +
geom_boxplot(mapping = aes(x = year.y, y = dep_delay)) +coord_flip()
flights_delayed_plane <- merges_planes %>% group_by(year.y) %>% summarise(Avg_dep_delay = mean(dep_delay), n = n_distinct(dep_delay))
flights_delayed_plane <- filter(flights_delayed_plane, n >30)
ggplot(data = merges_planes) +
geom_boxplot(mapping = aes(x = year.y, y = dep_delay)) +coord_flip()
ggplot(data = merges_planes) +
geom_boxplot(mapping = aes(x = year.y, y = dep_delay))
flights_delayed_plane <- flights_delayed_plane[!is.na(flights_delayed_plane$year.y)]
merges_planes <- merges_planes[!is.na(merges_planes$year.y)]
x <- merges_planes$year.y
x<- x[!is.na(x)]
merges_planes$year.y <- merges_planes$year.y[merges_planes$year.y %in% x]
x
merges_planes <- left_join(flights_delayed, planes, by = "tailnum")
merges_planes$year.y <- as.character(merges_planes$year.y)
flights_delayed_plane <- merges_planes %>% group_by(year.y) %>% summarise(Avg_dep_delay = mean(dep_delay), n = n_distinct(dep_delay))
flights_delayed_plane <- filter(flights_delayed_plane, n >30)
ggplot(data = merges_planes) +
geom_boxplot(mapping = aes(x = year.y, y = dep_delay))
flights_delayed_plane
ggplot(data = flights_delayed_plane, mapping = aes(x = year.y
, y = Avg_dep_delay)) + geom_point(color = "violetred4") +
geom_smooth(method = "lm", fill = "violet", color = "violetred4")
flights_delayed <- filter(flights, dep_delay >0 ) #We want to see only the delayed flights
flights_delayed1 <- flights_delayed %>%  group_by(time_hour) %>% summarise(Avg_dep_delay = mean(dep_delay))
Wheather_cond <- left_join(flights_delayed1, wheather) #combine the two relevant data frames
visib_df <- Wheather_cond %>% group_by(visib) %>% summarise(Avg_dep_delay = mean(Avg_dep_delay))
ggplot(data = visib_df, mapping = aes(x = visib, y = Avg_dep_delay)) + geom_point(color = "violetred4") +
geom_smooth(method = "lm", fill = "violet", color = "violetred4") +
labs(x = "visibility", y="Average Departure Delay Time (minutes)",
title = "Average Departure Delay vs. Quality of visibility")
visib_df
flights_delayed_plane <- merges_planes %>% group_by(year.y) %>% summarise(Avg_dep_delay = mean(dep_delay), n = n_distinct(dep_delay))
flights_delayed_plane
View(flights_delayed_plane)
View(flights_delayed1)
View(flights_delayed_plane)
View(flights)
View(flights_delayed)
merges_planes <- left_join(flights_delayed, planes, by = "tailnum")
merges_planes
View(merges_planes)
ggplot(data = merges_planes) +
geom_boxplot(mapping = aes(x = year.y, y = dep_delay))
ggplot(data = flights_delayed_plane, mapping = aes(x = year.y, y = Avg_dep_delay)) + geom_point(color = "violetred4") + geom_smooth(method = "lm", fill = "violet", color = "violetred4")
flights_delayed_plane
flights_delayed_plane <- merges_planes %>% group_by(model) %>% summarise(Avg_dep_delay = mean(dep_delay), n = n_distinct(dep_delay))
flights_delayed_plane
flights_delayed_plane <- filter(flights_delayed_plane, n >30)
flights_delayed_plane
flights_delayed_plane <- filter(flights_delayed_plane, n >30)
flights_delayed_plane
ggplot(data = flights_delayed_plane, mapping = aes(x = model, y = Avg_dep_delay)) + geom_point(color = "violetred4") + geom_smooth(method = "lm", fill = "violet", color = "violetred4")
ggplot(data = merges_planes) +
geom_boxplot(mapping = aes(x = model, y = dep_delay))
flights_delayed_plane <- merges_planes %>% group_by(model, type) %>% summarise(Avg_dep_delay = mean(dep_delay), n = n_distinct(dep_delay))
flights_delayed_plane
flights_delayed_plane <- filter(flights_delayed_plane, n >30)
flights_delayed_plane
ggplot(data = merges_planes) +
geom_boxplot(mapping = aes(x = type, y = dep_delay))
flights_delayed_plane <- merges_planes %>% group_by(model, type) %>% summarise(Avg_dep_delay = mean(dep_delay), n = n_distinct(dep_delay))
flights_delayed_plane <- merges_planes %>% group_by( type) %>% summarise(Avg_dep_delay = mean(dep_delay), n = n_distinct(dep_delay))
flights_delayed_plane
merges_planes
planes
flights_delayed_plane <- merges_planes %>% group_by( engines) %>% summarise(Avg_dep_delay = mean(dep_delay), n = n_distinct(dep_delay))
flights_delayed_plane
flights_delayed_plane <- merges_planes %>% group_by( engines) %>% summarise(Avg_dep_delay = mean(arr_delay), n = n_distinct(arr_delay))
flights_delayed_plane
flights_delayed_plane <- merges_planes %>% group_by( type) %>% summarise(Avg_dep_delay = mean(arr_delay), n = n_distinct(arr_delay))
flights_delayed_plane <- filter(flights_delayed_plane, n >30)
flights_delayed_plane <- merges_planes %>% group_by( type) %>% summarise(Avg_dep_delay = mean(arr_delay), n = n_distinct(arr_delay))
flights_delayed_plane
merges_planes <- left_join(flights_delayed, planes, by = "tailnum")
length(merges_planes$arr_delay)
length(merges_planes$seats)
length(merges_planes$seats)
length(merges_planes$seats)
flights_delayed_plane <- merges_planes %>% group_by( seats) %>% summarise(Avg_dep_delay = mean(arr_delay), n = n_distinct(arr_delay))
flights_delayed_plane
length(merges_planes$speed)
length(merges_planes$speed)
merges_planes <- left_join(flights_delayed, planes, by = "tailnum")
merges_planes
merges_planes <- merges_planes %>% drop_na()
merges_planes
merges_planes <- right_join(flights_delayed, planes, by = "tailnum")
merges_planes
merges_planes <- merge(flights_delayed, planes, by = "tailnum")
merges_planes
merges_planes <- merges_planes %>% drop_na()
merges_planes
merges_planes <- merge(flights_delayed, planes, by = "tailnum")
flights_delayed_plane <- merges_planes %>% group_by( seats) %>% summarise(Avg_dep_delay = mean(arr_delay), n = n_distinct(arr_delay))
flights_delayed_plane
flights_delayed_plane <- merges_planes %>% group_by( type) %>% summarise(Avg_dep_delay = mean(arr_delay), n = n_distinct(arr_delay))
flights_delayed_plane
flights_delayed_plane <- merges_planes %>% group_by( type) %>% summarise(Avg_dep_delay = mean(air_time), n = n_distinct(air_time))
flights_delayed_plane
flights_delayed_plane <- merges_planes %>% group_by( type) %>% summarise(Avg_dep_delay = mean(arr_delay), n = n_distinct(arr_delay))
flights_delayed_plane
merges_planes$arr_delay
order(merges_planes$arr_delay)
order(desc(merges_planes$arr_delay)
order(desc(merges_planes$arr_delay))
order(dest(merges_planes$arr_delay))
order(desc(merges_planes$arr_delay))
flights_delayed2 <- filter(flights, arr_delay >0 )
flights_delayed2
flights_delayed2 <- filter(flights, arr_delay !=na )
flights_delayed2 <- filter(flights, arr_delay != NA )
flights_delayed2 <- filter(flights, is.na(arr_delay) )
flights_delayed2
filter
flights
flights_delayed2 <- filter(flights, arr_delay >0 )
flights_delayed2
merges_planes <- merge(flights_delayed2, planes, by = "tailnum")
merges_planes
flights_delayed_plane <- merges_planes %>% group_by( type) %>% summarise(Avg_dep_delay = mean(arr_delay), n = n_distinct(arr_delay))
flights_delayed_plane
flights_delayed_plane <- merges_planes %>% group_by(model) %>% summarise(Avg_dep_delay = mean(arr_delay), n = n_distinct(arr_delay))
flights_delayed_plane
flights_delayed_plane <- filter(flights_delayed_plane, n >30)
flights_delayed_plane
flights_delayed_plane
merges_planes
flights_delayed_plane <- merges_planes %>% group_by(year.y) %>% summarise(Avg_dep_delay = mean(arr_delay), n = n_distinct(arr_delay))
flights_delayed_plane
flights_delayed_plane <- filter(flights_delayed_plane, n >30)
flights_delayed_plane
flights
planes
flights_delayed_plane <- merges_planes %>% group_by(manufacturer) %>% summarise(Avg_dep_delay = mean(arr_delay), n = n_distinct(arr_delay))
flights_delayed_plane
flights_delayed_plane <- filter(flights_delayed_plane, n >30)
flights_delayed_plane
ggplot(data = flights_delayed_plane, mapping = aes(x = manufacturer, y = Avg_dep_delay)) + geom_point(color = "violetred4") + geom_smooth(method = "lm", fill = "violet", color = "violetred4")
ggplot(data = merges_planes) +
geom_boxplot(mapping = aes(x = manufacturer, y = dep_delay))
ggplot(data = merges_planes) +
geom_boxplot(mapping = aes(x = manufacturer, y = dep_delay)) +   coord_flip()
flights_delayed2 <- filter(flights, arr_delay >0 )
merges_planes <- merge(flights_delayed2, planes, by = "tailnum")
merges_planes <- mutate(merges_planes, Age = year.x - year.Y)
merges_planes <- mutate(merges_planes, Age = year.x - year.y)
merges_planes
flights_delayed_plane <- merges_planes %>% group_by(Age) %>% summarise(Avg_dep_delay = mean(arr_delay), n = n_distinct(arr_delay))
flights_delayed_plane
flights_delayed_plane <- filter(flights_delayed_plane, n >30)
ggplot(data = flights_delayed_plane, mapping = aes(x = Age, y = Avg_dep_delay)) + geom_point(color = "violetred4") + geom_smooth(method = "lm", fill = "violet", color = "violetred4")
flights_delayed_plane <- merges_planes %>% group_by(Age) %>% summarise(Avg_dep_delay = mean(arr_delay), n = n_distinct(arr_delay)) %>% filter(is.na(Age))
flights_delayed_plane <- filter(flights_delayed_plane, n >30)
ggplot(data = flights_delayed_plane, mapping = aes(x = Age, y = Avg_dep_delay)) + geom_point(color = "violetred4") + geom_smooth(method = "lm", fill = "violet", color = "violetred4")
ggplot(data = merges_planes) +
geom_boxplot(mapping = aes(x = manufacturer, y = dep_delay)) +   coord_flip()
ggplot(data = flights_delayed_plane, mapping = aes(x = Age, y = Avg_dep_delay)) + geom_point(color = "violetred4") + geom_smooth(method = "lm", fill = "violet", color = "violetred4")
flights_delayed_plane <- merges_planes %>% group_by(Age) %>% summarise(Avg_dep_delay = mean(arr_delay), n = n_distinct(arr_delay)) %>% filter(is.na(Age))
flights_delayed_plane
flights_delayed_plane <- merges_planes %>% group_by(Age) %>% summarise(Avg_dep_delay = mean(arr_delay), n = n_distinct(arr_delay)) %>% filter(!is.na(Age))
flights_delayed_plane
ggplot(data = flights_delayed_plane, mapping = aes(x = Age, y = Avg_dep_delay)) + geom_point(color = "violetred4") + geom_smooth(method = "lm", fill = "violet", color = "violetred4")
flights_delayed_plane <- merges_planes %>% group_by(Age) %>% summarise(Avg_dep_delay = mean(arr_delay, na.rm = T), n = n_distinct(arr_delay, na.rm = T)) %>% filter(!is.na(Age))
flights_delayed_plane
ggplot(data = flights_delayed_plane, mapping = aes(x = Age, y = Avg_dep_delay)) + geom_point(color = "violetred4") + geom_smooth(method = "lm", fill = "violet", color = "violetred4")
merges_planes <- merge(flights, planes, by = "tailnum")
merges_planes <- merge(flights, planes, by = "tailnum")
merges_planes <- mutate(merges_planes, Age = year.x - year.y)
flights_delayed_plane <- merges_planes %>% group_by(Age) %>% summarise(Avg_dep_delay = mean(arr_delay, na.rm = T), n = n_distinct(arr_delay, na.rm = T)) %>% filter(!is.na(Age))
flights_delayed_plane <- filter(flights_delayed_plane, n >30)
ggplot(data = flights_delayed_plane, mapping = aes(x = Age, y = Avg_dep_delay)) + geom_point(color = "violetred4") + geom_smooth(method = "lm", fill = "violet", color = "violetred4")
flights_delayed_plane
flights_delayed2 <- filter(flights, arr_delay >0 )
merges_planes <- merge(flights_delayed2, planes, by = "tailnum")
flights_delayed_plane <- merges_planes %>% group_by(Age) %>% summarise(Avg_dep_delay = mean(arr_delay, na.rm = T), n = n_distinct(arr_delay, na.rm = T)) %>% filter(!is.na(Age)) %>%  mutate(age = if_else(age > 25, 25L, age))
flights_delayed_plane <- merges_planes %>% group_by(Age) %>% summarise(Avg_dep_delay = mean(arr_delay, na.rm = T), n = n_distinct(arr_delay, na.rm = T)) %>% filter(!is.na(Age)) %>%  mutate(Age = if_else(Age > 25, 25L, Age))
flights_delayed2 <- filter(flights, arr_delay >0 )
merges_planes <- merge(flights_delayed2, planes, by = "tailnum")
merges_planes <- merge(flights_delayed2, planes, by = "tailnum")
merges_planes <- mutate(merges_planes, Age = year.x - year.y)
flights_delayed_plane <- merges_planes %>% group_by(Age) %>% summarise(Avg_dep_delay = mean(arr_delay, na.rm = T), n = n_distinct(arr_delay, na.rm = T)) %>% filter(!is.na(Age)) %>%  mutate(Age = if_else(Age > 25, 25L, Age))
flights_delayed_plane <- filter(flights_delayed_plane, n >30)
flights_delayed_plane
merges_planes <- merge(flights_delayed2, planes, by = "tailnum")
merges_planes <- mutate(merges_planes, Age = year.x - year.y) %>%  mutate(Age = if_else(Age > 25, 25L, Age))
flights_delayed_plane <- merges_planes %>% group_by(Age) %>% summarise(Avg_dep_delay = mean(arr_delay, na.rm = T), n = n_distinct(arr_delay, na.rm = T)) %>% filter(!is.na(Age))
flights_delayed_plane
flights_delayed_plane <- filter(flights_delayed_plane, n >30)
flights_delayed_plane
ggplot(data = flights_delayed_plane, mapping = aes(x = Age, y = Avg_dep_delay)) + geom_point(color = "violetred4") + geom_smooth(method = "lm", fill = "violet", color = "violetred4")
ggplot(data = flights_delayed_plane, mapping = aes(x = Age, y = Avg_dep_delay)) + geom_point(color = "violetred4") + geom_smooth( fill = "violet", color = "violetred4")
merges_planes <- merge(flights, planes, by = "tailnum")
merges_planes <- merge(flights, planes, by = "tailnum")
merges_planes <- mutate(merges_planes, Age = year.x - year.y) %>%  mutate(Age = if_else(Age > 25, 25L, Age))
flights_delayed_plane <- merges_planes %>% group_by(Age) %>% summarise(Avg_dep_delay = mean(arr_delay, na.rm = T), n = n_distinct(arr_delay, na.rm = T)) %>% filter(!is.na(Age))
flights_delayed_plane <- filter(flights_delayed_plane, n >30)
ggplot(data = flights_delayed_plane, mapping = aes(x = Age, y = Avg_dep_delay)) + geom_point(color = "violetred4") + geom_smooth( fill = "violet", color = "violetred4")
