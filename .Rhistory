sampled_df <- by_month
row.names(sampled_df) <- by_month$month
for (i in (1:7)){
x <- data.frame(sample(by_month$n_delay))
sampled_df <- cbind(sampled_df, x)
}
sampled_df <- sampled_df[,c(2:9)]
V <-  c('M','V1','V2','V3','V4','V5','V6','V7','V8')
sampled_df <- rbind(sampled_df,V)
sampled_df <- as.data.frame(t(sampled_df))
# ggplot(data = sampled_df) +
#   geom_bar()+ facet_wrap(~V13)
ggplot(data = sampled_df) +
geom_bar()+ facet_wrap(~V13)
by_month <- flights_delayed %>% group_by(month) %>% summarise(n_delay = n_distinct(dep_delay))
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
for (i in (1:7)){
x <- data.frame(sample(by_month$n_delay))
sampled_df <- cbind(sampled_df, x)
}
sampled_df <- sampled_df[,c(2:9)]
V <-  c('V1','V2','V3','V4','V5','V6','V7','V8')
sampled_df <- rbind(sampled_df,V)
sampled_df <- as.data.frame(t(sampled_df))
ggplot(data = sampled_df) +
geom_bar()+ facet_wrap(~V13)
ggplot(data = sampled_df, mapping = aes(x  = colnames(sampled_df))) +
geom_bar()+ facet_wrap(~V13)
colnames(sampled_df)
ggplot(data = sampled_df, mapping = aes(x  = colnames(sampled_df)[1:12])) +
geom_bar()+ facet_wrap(~V13)
flights_delayed
sampled_df <- cbind(sampled_df, x)
sampled_df <- cbind(sampled_df, x)
by_month <- flights_delayed %>% group_by(month) %>% summarise(n_delay = n_distinct(dep_delay))
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
for (i in (1:7)){
x <- data.frame(sample(by_month$n_delay))
sampled_df <- cbind(sampled_df, x)
}
sampled_df <- sampled_df[,c(2:9)]
V <-  c('V1','V2','V3','V4','V5','V6','V7','V8')
sampled_df <- rbind(sampled_df,V)
sampled_df <- as.data.frame(t(sampled_df))
ggplot(data = sampled_df, mapping = aes(x  = colnames(sampled_df)[1:12])) +
geom_bar()+ facet_wrap(~V13)
sampled_df
ggplot(data = sampled_df, mapping = aes(x  = V13) +
ggplot(data = sampled_df, mapping = aes(x  = V13)) +
geom_bar()+ facet_wrap(~V13)
by_month <- flights_delayed %>% group_by(month) %>% summarise(n_delay = n_distinct(dep_delay))
by_month <- flights_delayed %>% group_by(month) %>% summarise(n_delay = n_distinct(dep_delay))
by_month <- flights_delayed %>% group_by(month) %>% summarise(n_delay = n_distinct(dep_delay))
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
for (i in (1:7)){
x <- data.frame(sample(by_month$n_delay))
sampled_df <- cbind(sampled_df, x)
}
sampled_df <- sampled_df[,c(2:9)]
V <-  c('V1','V2','V3','V4','V5','V6','V7','V8')
sampled_df <- rbind(sampled_df,V)
sampled_df <- as.data.frame(t(sampled_df))
ggplot(data = sampled_df, mapping = aes(x  = V13)) +
geom_bar()+ facet_wrap(~V13)
ggplot(data = sampled_df, mapping = aes(x  = row.names(sampled_df))) +
geom_bar()+ facet_wrap(~V13)
sampled_df
for (i in (1:3)){
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$n_delay))
sampled_df <- merge(sampled_df, x)
}
by_month <- flights_delayed %>% group_by(month) %>% summarise(n_delay = n_distinct(dep_delay))
sampled_df <- by_month
sampled_df
row.names(sampled_df) <- by_month$month
sampled_df
for (i in (1:3)){
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$n_delay))
sampled_df <- merge(sampled_df, x)
}
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$n_delay))
for (i in (1:3)){
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$n_delay))
sampled_df <- merge(sampled_df, x)
}
sampled_df
sampled_df <- by_month
sampled_df <- by_month
sampled_df
i=2
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$n_delay))
sampled_df <- merge(sampled_df, x)
sampled_df
by_month <- flights_delayed %>% group_by(month) %>% summarise(val = n_distinct(dep_delay))
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
i=2
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$n_delay))
i=2
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$n_delay))
i=2
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$n_delay))
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$n_delay))
x
sampled_df <- merge(sampled_df, x)
by_month <- flights_delayed %>% group_by(month) %>% summarise(val = n_distinct(dep_delay))
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
i=2
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$n_delay))
x
sampled_df <- merge(sampled_df, x, by = month)
sampled_df <- left_join(sampled_df, x, by = month)
sampled_df <- left_join(sampled_df, x, by = month)
sampled_df <- left_join(sampled_df, x, by = month)
sampled_df <- left_join(sampled_df, x, by = "month")
sampled_df
by_month <- flights_delayed %>% group_by(month) %>% summarise(val = n_distinct(dep_delay))
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
i=2
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$n_delay))
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp =c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$n_delay))
sampled_df <- inner_join(sampled_df, x, by = "month")
sampled_df
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp =c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$n_delay))
by_month <- flights_delayed %>% group_by(month) %>% summarise(val = n_distinct(dep_delay))
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
i=2
sampled_df <- semi_join(sampled_df, x, by = "month")
sampled_df
x
sampled_df <- full_join(sampled_df, x, by = "month")
sampled_df
by_month <- data.frame(by_month, sepm = c(1,1,1,1,1,1,1,1,1,1,1,1))
by_month
_
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
sampled_df
x <- data.frame(sampled_df, semp =c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$n_delay))
y <- data.frame(x, sampled_df)
y
View(y)
y <- semi_join(x, sampled_df)
y <- semi_join(x, sampled_df, by = "month")
y <- full_join(x, sampled_df, by = "month")
y <- inner_join(x, sampled_df, by = "month")
y <- left_join(x, sampled_df, by = "month")
y <- nest_join(x, sampled_df, by = "month")
View(y[[4]][[1]])
y <- merge(x, sampled_df, by = "month")
x <- data.frame(month = by_month$month semp = c(i,i,i,i,i,i,i,i,i,i,i,i), val = sample(by_month$n_delay))
x <- data.frame(month = by_month$month, semp = c(i,i,i,i,i,i,i,i,i,i,i,i), val = sample(by_month$n_delay))
x <- data.frame(month = by_month$month, semp = c(i,i,i,i,i,i,i,i,i,i,i,i), val = sample(by_month$n_delay))
x <- data.frame(month = by_month$month, semp = c(i,i,i,i,i,i,i,i,i,i,i,i), val = sample(by_month$n_delay))
by_month <- flights_delayed %>% group_by(month) %>% summarise(val = n_distinct(dep_delay))
by_month <- data.frame(by_month, sepm = c(1,1,1,1,1,1,1,1,1,1,1,1))
by_month
x <- data.frame(month = by_month$month, semp = c(i,i,i,i,i,i,i,i,i,i,i,i), val = sample(by_month$n_delay))
x <- data.frame(month = by_month$month, val = sample(by_month$n_delay))
by_month$month
sample(by_month$n_delay)
x <- data.frame(month = by_month$month, val = sample(by_month$val))
x <- data.frame(month = by_month$month, semp = c(i,i,i,i,i,i,i,i,i,i,i,i), val = sample(by_month$val))
x
i=3
y <- data.frame(month = by_month$month, semp = c(i,i,i,i,i,i,i,i,i,i,i,i), val = sample(by_month$val))
z <- merge(x,y)
View(z)
z <- merge(x,y, by = "month")
z <- merge(x,y)
z <- join(x,y)
z <- left_join(x,y)
z <- full_join(x,y)
by_month <- flights_delayed %>% group_by(month) %>% summarise(val = n_distinct(dep_delay))
by_month <- data.frame(by_month, sepm = c(1,1,1,1,1,1,1,1,1,1,1,1))
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
for (i in (2:8)){
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$n_delay))
sampled_df <- full_join(sampled_df, x)
}
by_month <- flights_delayed %>% group_by(month) %>% summarise(val = n_distinct(dep_delay))
by_month <- data.frame(by_month, sepm = c(1,1,1,1,1,1,1,1,1,1,1,1))
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
for (i in (2:8)){
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$val))
sampled_df <- full_join(sampled_df, x)
}
by_month <- flights_delayed %>% group_by(month) %>% summarise(val = n_distinct(dep_delay))
by_month <- data.frame(by_month, semp = c(1,1,1,1,1,1,1,1,1,1,1,1))
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
for (i in (2:8)){
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$val))
sampled_df <- full_join(sampled_df, x)
}
sampled_df
ggplot(data = sampled_df, mapping = aes(x  = month)) +
geom_bar()+ facet_wrap(~semp)
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_bar()+ facet_wrap(~semp)
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_abline()+ facet_wrap(~semp)
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_line()+ facet_wrap(~semp)
by_month <- flights_delayed %>% group_by(month) %>% summarise(val = n_distinct(dep_delay))
by_month <- data.frame(by_month, semp = c(1,1,1,1,1,1,1,1,1,1,1,1))
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
for (i in (2:9)){
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$val))
sampled_df <- full_join(sampled_df, x)
}
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_line()+ facet_wrap(~semp)
by_month <- flights_delayed %>% group_by(month) %>% summarise(val = n_distinct(dep_delay))
by_month <- data.frame(by_month, semp = c(1,1,1,1,1,1,1,1,1,1,1,1))
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
for (i in (2:12)){
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$val))
sampled_df <- full_join(sampled_df, x)
}
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_line()+ facet_wrap(~semp)
flights_delayed$month <- as.character.numeric_version(flights_delayed$month)
ggplot(data = flights_delayed, mapping = aes(x = day)) +
geom_bar()+ facet_wrap(~month)
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_histogram()+ facet_wrap(~semp)
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_jitter()+ facet_wrap(~semp)
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_point()+ facet_wrap(~semp)
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_bin2d()+ facet_wrap(~semp)
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_histogram(aes(y = val))+ facet_wrap(~semp)
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_area(aes(y = val))+ facet_wrap(~semp)
geom_area(+ facet_wrap(~semp)
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_area()+ facet_wrap(~semp)
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp)
sampled_df$month <- as.character.numeric_version(sampled_df$month)
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp)
by_month <- flights_delayed %>% group_by(month) %>% summarise(val = n_distinct(dep_delay))
by_month <- data.frame(by_month, semp = c(1,1,1,1,1,1,1,1,1,1,1,1))
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
for (i in (2:12)){
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$val))
sampled_df <- full_join(sampled_df, x)
}
by_month
by_month <- flights_delayed %>% group_by(month) %>% summarise(val = n_distinct(dep_delay))
by_month <- data.frame(by_month, semp = c(1,1,1,1,1,1,1,1,1,1,1,1))
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
for (i in (2:12)){
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$val))
sampled_df <- full_join(sampled_df, x)
}
by_month <- flights_delayed %>% group_by(month) %>% summarise(val = n_distinct(dep_delay))
by_month <- data.frame(by_month, semp = c(1,1,1,1,1,1,1,1,1,1,1,1))
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
for (i in (2:12)){
x <- data.frame(month = c('1','2','3','4','5','6','7','8','9','10','11','12'), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$val))
sampled_df <- full_join(sampled_df, x)
}
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp)
by_month <- flights_delayed %>% group_by(month) %>% summarise(val = n_distinct(dep_delay))
by_month <- data.frame(by_month, semp = c(1,1,1,1,1,1,1,1,1,1,1,1))
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
for (i in (2:12)){
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$val))
sampled_df <- full_join(sampled_df, x)
}
options(scipen = 999)
flights <- as.data.frame(nycflights13::flights)
wheather <- nycflights13::weather
airports <- nycflights13::airports
planes <- nycflights13::planes
flights_delayed2 <- filter(flights, arr_delay >0 )
by_month <- flights_delayed %>% group_by(month) %>% summarise(val = n_distinct(dep_delay))
by_month <- flights_delayed %>% group_by(month) %>% summarise(val = n_distinct(dep_delay))
flights_delayed <- filter(flights, dep_delay >15 ) #We want to see only the delayed flights
by_month <- flights_delayed %>% group_by(month) %>% summarise(val = n_distinct(dep_delay))
by_month <- data.frame(by_month, semp = c(1,1,1,1,1,1,1,1,1,1,1,1))
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
for (i in (2:12)){
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$val))
sampled_df <- full_join(sampled_df, x)
}
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp)
sampled_df
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp)
ggplot(data = sampled_df, mapping = aes(x  = as.character.numeric_version(month), y = val)) +
geom_step()+ facet_wrap(~semp)
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp)
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp) + labs( xlab = c('1','2','3','4','5','6','7','8','9','10','11','12'))
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp) + labs( x = c('1','2','3','4','5','6','7','8','9','10','11','12'))
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp) + labs(xlab= c('1','2','3','4','5','6','7','8','9','10','11','12'))
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp) + labs(xlab= "shaha"))
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp) + labs(xlab= "shaha")
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp) +
labs(xlab= c(1,2,3,4,5,6,7,8,9,10,11,12))
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp)
plot_df <- sampled_df
plot_df
plot_df$month <- as.character(plot_df$month)
ggplot(data = sampled_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp)
plot_df
ggplot(data = plot_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp)
ggplot(data = plot_df, mapping = aes(x  = semp, y = val)) +
geom_step()+ facet_wrap(~month)
plot_df$month <- as.character.numeric_version(plot_df$month)
ggplot(data = plot_df, mapping = aes(x  = semp, y = val)) +
geom_step()+ facet_wrap(~month)
by_month <- flights_delayed %>% group_by(month) %>% summarise(val = n_distinct(dep_delay))
by_month <- data.frame(by_month, semp = c(1,1,1,1,1,1,1,1,1,1,1,1))
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
for (i in (2:12)){
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$val))
sampled_df <- full_join(sampled_df, x)
}
plot_df <- sampled_df
plot_df$month <- as.character.numeric_version(plot_df$month)
ggplot(data = plot_df, mapping = aes(x  = semp, y = val)) +
geom_step()+ facet_wrap(~month)
by_month <- flights_delayed %>% group_by(month) %>% summarise(val = n_distinct(dep_delay))
by_month <- data.frame(by_month, semp = c(1,1,1,1,1,1,1,1,1,1,1,1))
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
for (i in (2:12)){
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$val))
sampled_df <- full_join(sampled_df, x)
}
plot_df <- sampled_df
plot_df$month <- as.character.numeric_version(plot_df$month)
ggplot(data = plot_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp)
by_month <- flights_delayed %>% group_by(month) %>% summarise(val = n_distinct(dep_delay))
by_month <- data.frame(by_month, semp = c(1,1,1,1,1,1,1,1,1,1,1,1))
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
for (i in (2:12)){
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$val))
sampled_df <- full_join(sampled_df, x)
}
plot_df <- sampled_df
plot_df$month <- as.character.numeric_version(plot_df$month)
ggplot(data = plot_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp)
by_month <- flights_delayed %>% group_by(month) %>% summarise(val = n_distinct(dep_delay))
by_month <- data.frame(by_month, semp = c(1,1,1,1,1,1,1,1,1,1,1,1))
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
for (i in (2:12)){
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$val))
sampled_df <- full_join(sampled_df, x)
}
plot_df <- sampled_df
#plot_df$month <- as.character.numeric_version(plot_df$month)
ggplot(data = plot_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp)
ggplot(data = plot_df, mapping = aes(x  = factor(month), y = val)) +
geom_step()+ facet_wrap(~semp)
ggplot(data = plot_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp)
ggplot(data = plot_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp) +labs(xlab = factor(month))
ggplot(data = plot_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp) +labs(xlab = factor(month))
ggplot(data = plot_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp)
by_month <- flights_delayed %>% group_by(month) %>% summarise(val = n_distinct(dep_delay))
by_month <- data.frame(by_month, semp = c(1,1,1,1,1,1,1,1,1,1,1,1))
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
for (i in (2:12)){
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$val))
sampled_df <- full_join(sampled_df, x)
}
plot_df <- sampled_df
#plot_df$month <- as.character.numeric_version(plot_df$month)
ggplot(data = plot_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp)
ggplot(plot_df) + geom_bar(aes(val))
ggplot(plot_df) + geom_bar(aes(val))+
geom_step()+ facet_wrap(~semp)
ggplot(plot_df) + geom_bar(aes(val))+
geom_step()+ facet_wrap(~semp)
ggplot(plot_df) + geom_bar(aes(x = val))+
geom_step()+ facet_wrap(~semp)
ggplot(plot_df) + geom_bar(aes(x = val))+  facet_wrap(~semp)
ggplot(plot_df) + geom_bar(aes(x = month))+  facet_wrap(~semp)
ggplot(data = plot_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp)
ggplot(data = plot_df, mapping = aes(x  = month, y = val))+ facet_wrap(~semp)
ggplot(data = plot_df, mapping = aes(x  = month, y = val))+ facet_wrap(~semp)
ggplot(data = plot_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp)
ggplot(plot_df) + geom_histogram(aes(x = month))+  facet_wrap(~semp)
ggplot(plot_df) + geom_histogram(aes(x = val))+  facet_wrap(~semp)
ggplot(data = plot_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp)
ggplot(data = plot_df, mapping = aes(x  = format(month), y = val)) +
geom_step()+ facet_wrap(~semp)
ggplot(data = plot_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp)
flights_delayed
ggplot(data = flights_delayed, mapping = aes(x = day)) +
geom_bar()+ facet_wrap(~month)
flights_delayed$month <- as.character.numeric_version(flights_delayed$month)
ggplot(data = flights_delayed, mapping = aes(x = day)) +
geom_bar()+ facet_wrap(~month)
by_month <- flights_delayed %>% group_by(month) %>% summarise(val = n_distinct(dep_delay))
by_month <- data.frame(by_month, semp = c(1,1,1,1,1,1,1,1,1,1,1,1))
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
for (i in (2:12)){
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$val))
sampled_df <- full_join(sampled_df, x)
}
# tools and data upload
library(ggplot2)
library(dplyr)
library(scales) # needed for formatting y-axis labels to non-scientific type
library(tidyr)
library(tidyverse)
library(ggthemes)
library(datasets)
library(nycflights13)
library(kableExtra) #table styling
library(e1071) # kurtosis and skeeness
library(MASS) # reg modeling
library(corrplot)
library(caTools)
library(plotly)
library(lubridate)
library(hexbin)
library(usmap)
library(rgdal)
library(ggiraph)
options(scipen = 999)
flights <- as.data.frame(nycflights13::flights)
wheather <- nycflights13::weather
airports <- nycflights13::airports
planes <- nycflights13::planes
flights_delayed <- filter(flights, dep_delay >15 ) #We want to see only the delayed flights
flights_delayed1 <- flights_delayed %>%  group_by(time_hour) %>% summarise(Avg_dep_delay = mean(dep_delay))
Wheather_cond <- left_join(flights_delayed1, wheather) #combine the two relevant data frames
visib_df <- Wheather_cond %>% group_by(visib) %>% summarise(Avg_dep_delay = mean(Avg_dep_delay))
ggplot(data = visib_df, mapping = aes(x = visib, y = Avg_dep_delay)) + geom_point(color = "violetred4") +
geom_smooth(method = "lm", fill = "violet", color = "violetred4") +
labs(x = "visibility", y="Average Departure Delay Time (minutes)",
title = "Average Departure Delay vs. Quality of visibility")
flights_delayed2 <- filter(flights, arr_delay >0 )
merges_planes <- merge(flights, planes, by = "tailnum")
merges_planes <- mutate(merges_planes, Age = year.x - year.y) %>%  mutate(Age = if_else(Age > 25, 25L, Age))
flights_delayed_plane <- merges_planes %>% group_by(Age) %>% summarise(Avg_dep_delay = mean(arr_delay, na.rm = T), n = n_distinct(arr_delay, na.rm = T)) %>% filter(!is.na(Age))
# flights_delayed$month <- as.character.numeric_version(flights_delayed$month)
ggplot(data = flights_delayed, mapping = aes(x = day)) +
geom_bar()+ facet_wrap(~month)
by_month <- flights_delayed %>% group_by(month) %>% summarise(val = n_distinct(dep_delay))
by_month <- data.frame(by_month, semp = c(1,1,1,1,1,1,1,1,1,1,1,1))
sampled_df <- by_month
row.names(sampled_df) <- by_month$month
for (i in (2:12)){
x <- data.frame(month = c(1,2,3,4,5,6,7,8,9,10,11,12), semp = c(i,i,i,i,i,i,i,i,i,i,i,i),val = sample(by_month$val))
sampled_df <- full_join(sampled_df, x)
}
plot_df <- sampled_df
#plot_df$month <- as.character.numeric_version(plot_df$month)
ggplot(data = plot_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp)
ggplot(data = plot_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp) +scale_x_continuous(breaks = c(1:12))
ggplot(data = plot_df, mapping = aes(x  = month, y = val)) +
geom_step()+ facet_wrap(~semp) + scale_x_continuous(breaks = c(1:12)) +geom_bar(stat="identity")
ggplot(data = plot_df, mapping = aes(x  = month, y = val)) + facet_wrap(~semp) + scale_x_continuous(breaks = c(1:12)) +geom_bar(stat="identity")
ggplot(data = plot_df, mapping = aes(x  = month, y = val)) + facet_wrap(~semp) + scale_x_continuous(breaks = c(1:12)) +geom_step()
ggplot(data = plot_df, mapping = aes(x  = month, y = val)) + facet_wrap(~semp) + scale_x_continuous(breaks = c(1:12)) +geom_bar(stat="identity")
ggplot(data = plot_df, mapping = aes(x  = month, y = val)) + facet_wrap(~semp) + scale_x_continuous(breaks = c(1:12)) +geom_step()
